<!DOCTYPE html>

<html lang="en">
    <head>
        <title>Medicin</title>
        <link rel="stylesheet" href="medicin.css">

        <head>
            <body>

                    <h1>Your Medicin</h1>
                    <p>Keep track on your medicin on this site.</p> <!-- Ændrer denne beskrivelse til noget bedre-->

                <button class="alarmbutton" class="alarmbutton:hover">+ Add alarm</button>

                <h2>Time of day</h2>
                <p>Please select the time of day you want to be reminded of your medication:</p>

                    <div class="top-header"></div>





    <!-- Date input -->

    <label for="date">Date:</label>
    <input type="date" id="date" onchange="updateElapsed()">

    <!--Time inputs-->

    <label for="start">Start:</label>
    <input type="time" id="start" onchange="updateElapsed()"> <!-- The onchange attribute is set to call the updateElapsed function whenever the input values change -->

    <label for="stop">Stop:</label>
    <input type="time" id="stop" onchange="updateElapsed()">

    <!-- Hidden input to store elapsed time
    An input element with type "hidden" is used to store the elapsed time in seconds. This can be accessed later for further processing or storage.-->
    <input type="hidden" id="elapsedTimeInput">

    <!-- Display message for successful time input.  <div> with the id "success" is used to display success messages or error messages.-->
    <div id="success"></div>

    <!-- JavaScript code -->
<script>
// Initialize a variable 'elapsedseconds' to store elapsed time in -->
let elapsedSeconds = 0;

// Function to update elapsed time.
// function is called whenever the start or stop time inputs change. It calculates the elapsed time, makes the format, and updates the display and hidden input
function updateElapsed()
{
    // Get references to HTML elements
    const dateInput = document.getElementById("date");
    const startTimeInput = document.getElementById("start");
    const stopTimeInput = document.getElementById("stop");
    const elapsedTimeInput = document.getElementById("elapsedTimeInput");
    const successMessage = document.getElementById("success");

    // Combine date and time values
    const combinedDateTimeString = dateInput.value + "T" + startTimeInput.value + ":00Z";

    // Create a Date object based on the combined date and time string
    //combinedDateTime are a combination of the values entered by the user in the input field
    //The values are expected to be in the format. By doing so the time wont need another fixed date to make a Date object
    const combinedDateTime = new Date(combinedDateTimeString);

    // Calculate elapsed time in seconds plus convert to new date object
    elapsedSeconds = (new Date(stopTimeInput.value) - combinedDateTime) / 1000;

    // Check if the input is valid (stop time is after start time)

    // Checks if the elapsed time is non-negative, meaning the stopTime is after the combinedDateTime (start time)

    if (elapsedSeconds >= 0) {  //If elapsedSeconds is greater than or equal to 0, it theres a vlid input

        // Convert elapsed time to hours, minutes, and seconds
        const elapsedMinutes = Math.floor(elapsedSeconds / 60) % 60;
        const elapsedHours = Math.floor(elapsedSeconds / 3600);

        // Format the elapsed time into a string
        const formattedTime = `${pad(elapsedHours)}:${pad(elapsedMinutes)}:${pad(Math.floor(elapsedSeconds) % 60)}`;


        // Display the formatted time in the success message div
        successMessage.innerText = `Elapsed Time: ${formattedTime}`;
        // sets the text content of the "successMessage" element to "Elapsed Time: " followed by the value of formattedTime
        // This way, user sees a message like "Elapsed Time: 00:00:00

        // Store elapsed time in the hidden input for further processing
        elapsedTimeInput.value = elapsedSeconds;

    }
    else
    {
        // Handle invalid time input
        successMessage.innerText = "Invalid time input";
        elapsedTimeInput.value = ""; // Reset elapsed time if input is invalid
    }
}

function pad(value)
{
    return value < 10 ? "0" + value : value;
}
</script>
</table>


<!--fra linje 22 til linje 108 er tyvstjålet fra Julie fra filen seizures.html//-->






<h2>Day(s) of the week</h2>
<p>Please select the day(s) you want to be reminded of your medication:</p>

<button class="alarmbutton" class="alarmbutton:hover">Monday</button>
<button class="alarmbutton" class="alarmbutton:hover">Tuesday</button>
<button class="alarmbutton" class="alarmbutton:hover">Wednesday</button>
<button class="alarmbutton" class="alarmbutton:hover">Thursday</button>
<button class="alarmbutton" class="alarmbutton:hover">Friday</button>
<button class="alarmbutton" class="alarmbutton:hover">Saturday</button>
<button class="alarmbutton" class="alarmbutton:hover">Sunday</button>

<h2>Name of medicin</h2>
<p>Please state the name of your medication:</p>
<form>
    <input type="text" class="submed">
    <input type="submit" value="Submit medication" class="alarmbutton">
</form>

<h2>Overview of your medication alarms</h2>

<div>
    <table class="medoverview">
        <tr>
            <td>
                <div>
                    <h3>Every day</h3>
                    <div>8:00 a.m.</div>
            <td>
                <div>
                    <h4>Trimonil® wuhulu, Desitin</h4>
                </div>
            </td>
        </tr>
            <tr>
            <td>
                <div><h3>Wednesday</button></div>
                <div>6:00 p.m.</div>
            </td>
                <td>
                    <h4>Lulz "Life Medzz" dawg4lyfe</h4>
                </td>
        </tr>
    </table>
</div>
                </body>